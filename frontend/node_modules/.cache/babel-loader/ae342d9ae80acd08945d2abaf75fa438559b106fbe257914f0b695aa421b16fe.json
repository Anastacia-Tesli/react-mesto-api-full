{"ast":null,"code":"import _slicedToArray from\"C:/Users/tesli/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{api}from'../utils/api.js';import Card from'./Card.js';import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),data=_ref2[0],cards=_ref2[1];setUserName(data.name);setUserDescription(data.about);setUserAvatar(data.avatar);setCards(cards);}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(err));});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__pic\",onClick:props.onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",src:userAvatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__heading\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"button button_open profile__edit-button\",onClick:props.onEditProfile,type:\"button\",\"aria-label\":\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__job\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button button_open profile__add-button\",onClick:props.onAddPlace,type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043C\\u0435\\u0441\\u0442\\u043E\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"places\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:props.onCardClick,onDeleteClick:props.onDeleteClick},card._id);})})]});}export default Main;","map":{"version":3,"names":["api","Card","React","Main","props","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","Promise","all","getUserInfo","getInitialCards","then","data","name","about","avatar","catch","err","console","log","onEditAvatar","onEditProfile","onAddPlace","map","card","onCardClick","onDeleteClick","_id"],"sources":["C:/Users/tesli/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import {api} from '../utils/api.js';\r\nimport Card from './Card.js';\r\nimport React from 'react';\r\nfunction Main(props) {\r\n    const [userName, setUserName] = React.useState('');\r\n    const [userDescription, setUserDescription] = React.useState('');\r\n    const [userAvatar, setUserAvatar] = React.useState('');\r\n    const [cards, setCards] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n        .then(([data, cards]) => {\r\n            setUserName(data.name)\r\n            setUserDescription(data.about)\r\n            setUserAvatar(data.avatar)\r\n            setCards(cards)\r\n        })\r\n        .catch((err) => {\r\n            console.log(`Ошибка: ${err}`);\r\n        })\r\n    }, []);\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__pic\" onClick={props.onEditAvatar}>\r\n                    <img className=\"profile__avatar\" alt=\"Аватар пользователя\" src={userAvatar}/>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                   <div className=\"profile__heading\">\r\n                        <h1 className=\"profile__name\">{userName}</h1>\r\n                        <button className=\"button button_open profile__edit-button\" onClick={props.onEditProfile} type=\"button\" aria-label=\"Открыть редактирование профиля\"></button>\r\n                    </div>\r\n                    <p className=\"profile__job\">{userDescription}</p>\r\n                </div>\r\n                <button className=\"button button_open profile__add-button\" onClick={props.onAddPlace} type=\"button\" aria-label=\"Добавить место\"></button>\r\n            </section>\r\n            <section className=\"places\">\r\n                {cards.map((card) => (\r\n                    <Card key={card._id} card={card} onCardClick={props.onCardClick} onDeleteClick={props.onDeleteClick}></Card>\r\n                ))}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\nexport default Main"],"mappings":"oHAAA,OAAQA,GAAG,KAAO,iBAAiB,CACnC,MAAOC,KAAI,KAAM,WAAW,CAC5B,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAC1B,QAASC,KAAI,CAACC,KAAK,CAAE,CACjB,oBAAgCF,KAAK,CAACG,QAAQ,CAAC,EAAE,CAAC,oDAA3CC,QAAQ,qBAAEC,WAAW,qBAC5B,qBAA8CL,KAAK,CAACG,QAAQ,CAAC,EAAE,CAAC,qDAAzDG,eAAe,qBAAEC,kBAAkB,qBAC1C,qBAAoCP,KAAK,CAACG,QAAQ,CAAC,EAAE,CAAC,qDAA/CK,UAAU,qBAAEC,aAAa,qBAChC,qBAA0BT,KAAK,CAACG,QAAQ,CAAC,EAAE,CAAC,qDAArCO,KAAK,qBAAEC,QAAQ,qBAEtBX,KAAK,CAACY,SAAS,CAAC,UAAM,CAClBC,OAAO,CAACC,GAAG,CAAC,CAAChB,GAAG,CAACiB,WAAW,EAAE,CAAEjB,GAAG,CAACkB,eAAe,EAAE,CAAC,CAAC,CACtDC,IAAI,CAAC,cAAmB,kCAAjBC,IAAI,UAAER,KAAK,UACfL,WAAW,CAACa,IAAI,CAACC,IAAI,CAAC,CACtBZ,kBAAkB,CAACW,IAAI,CAACE,KAAK,CAAC,CAC9BX,aAAa,CAACS,IAAI,CAACG,MAAM,CAAC,CAC1BV,QAAQ,CAACD,KAAK,CAAC,CACnB,CAAC,CAAC,CACDY,KAAK,CAAC,SAACC,GAAG,CAAK,CACZC,OAAO,CAACC,GAAG,iDAAYF,GAAG,EAAG,CACjC,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CACN,mBACI,cAAM,SAAS,CAAC,SAAS,wBACrB,iBAAS,SAAS,CAAC,SAAS,wBACxB,YAAK,SAAS,CAAC,cAAc,CAAC,OAAO,CAAErB,KAAK,CAACwB,YAAa,uBACtD,YAAK,SAAS,CAAC,iBAAiB,CAAC,GAAG,CAAC,+GAAqB,CAAC,GAAG,CAAElB,UAAW,EAAE,EAC3E,cACN,aAAK,SAAS,CAAC,eAAe,wBAC3B,aAAK,SAAS,CAAC,kBAAkB,wBAC5B,WAAI,SAAS,CAAC,eAAe,UAAEJ,QAAQ,EAAM,cAC7C,eAAQ,SAAS,CAAC,yCAAyC,CAAC,OAAO,CAAEF,KAAK,CAACyB,aAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAW,4KAAgC,EAAU,GAC3J,cACN,UAAG,SAAS,CAAC,cAAc,UAAErB,eAAe,EAAK,GAC/C,cACN,eAAQ,SAAS,CAAC,wCAAwC,CAAC,OAAO,CAAEJ,KAAK,CAAC0B,UAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAW,iFAAgB,EAAU,GACnI,cACV,gBAAS,SAAS,CAAC,QAAQ,UACtBlB,KAAK,CAACmB,GAAG,CAAC,SAACC,IAAI,qBACZ,KAAC,IAAI,EAAgB,IAAI,CAAEA,IAAK,CAAC,WAAW,CAAE5B,KAAK,CAAC6B,WAAY,CAAC,aAAa,CAAE7B,KAAK,CAAC8B,aAAc,EAAzFF,IAAI,CAACG,GAAG,CAAyF,EAC/G,CAAC,EACI,GACP,CAEf,CACA,cAAehC,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}